const TESTIMONIAL_DATA = [
    {
        id: 1,
        text: "Shop Æ¡i cáº£m Æ¡n vÃ¬ Ä‘Ã£ kiÃªn nháº«n tÆ° váº¥n dÃ¹ mÃ¬nh há»i ráº¥t nhiá»u áº¡. Sáº£n pháº©m Ä‘áº¹p láº¯m áº¡, giao hÃ ng nhanh ná»¯a.",
        product: "VÃ²ng Tay Infinity Heart",
        image: "https://content.pancake.vn/2-25/2025/9/17/4a63eb21952f0251351522295f1aa4c6c074829b.jpg",
        customer: {
            name: "@Niep****",
            location: "Ha Tinh",
            avatar: "NP"
        },
        rating: 5,
        date: "15/08/2025"
    },
    {
        id: 2,
        text: "MÃ¬nh cáº§n gáº¥p cho anni. SG-HN 3 ngÃ y trá»™m vÃ­a váº«n giao ká»‹p, cáº£m Æ¡n shop nhiá»u áº¡aaaaa",
        product: "VÃ²ng Sincera Couple Paperclip x Charm Keys & Lock",
        image: "https://content.pancake.vn/2-25/2025/9/17/46b82dc95f07a44731fb81031d518c8728de936f.jpg",
        customer: {
            name: "@Minnie.H**",
            location: "Ha Noi",
            avatar: "MH"
        },
        rating: 5,
        date: "20/07/2025"
    },
    {
        id: 3,
        text: "NgÆ°á»i yÃªu mÃ¬nh thÃ­ch láº¯m, hi vá»ng tÃ¬nh cáº£m cá»§a tá»¥i mÃ¬nh sáº½ \"forever\" nhÆ° vÃ²ng nÃ y áº¡ hehe",
        product: "VÃ²ng Tay Sincera Infinity Heart",
        image: "https://content.pancake.vn/2-25/2025/9/17/c088111aedea635280719788a141f23c1ccb06e1.jpg",
        customer: {
            name: "maika.fo**",
            location: "Tp. Ho Chi Minh",
            avatar: "MF"
        },
        rating: 5,
        date: "06/05/2025"
    },
    {
        id: 4,
        text: "Shop rep tin nháº¯n hÆ¡i cháº­m nhÆ°ng bÃ¹ láº¡i sáº£n pháº©m ráº¥t Ä‘áº¹p, há»— trá»£ mÃ¬nh Ä‘á»•i dÃ¢y theo yÃªu cáº§u.",
        product: "VÃ²ng Sincera Couple Infinity Heart",
        image: "https://content.pancake.vn/2-25/2025/9/17/073dc0f98f6988e9b6434877ffdfac9085106a8f.jpg",
        customer: {
            name: "T.Bun**",
            location: "Tp. Ho Chi Minh",
            avatar: "TB"
        },
        rating: 4,
        date: "12/09/2025"
    },
    {
        id: 5,
        text: "Cáº£m Æ¡n shop vÃ¬ lÃ m cho em máº«u vÃ²ng tháº­t Ã½ nghÄ©a, báº¡n trai em ráº¥t thÃ­ch luÃ´n áº¡!",
        product: "Sincera rolo Chain x Carabiner Lock",
        image: "https://content.pancake.vn/2-25/2025/9/17/843bd19fed37f6d1bc3ab11d31bf738d916dd1a5.jpg",
        customer: {
            name: "Hannie**",
            location: "Vung Tau",
            avatar: "HL"
        },
        rating: 5,
        date: "20/08/2025"
    },
    {
        id: 6,
        text: "Shop Æ¡i vÃ²ng Ä‘áº¹p láº¯m, vá»«a y luÃ´n. CÃ³ báº¡n bÃ¨ mua mÃ¬nh sáº½ giá»›i thiá»‡u shop áº¡. Cáº£m Æ¡n shop nhiá»u.",
        product: "VÃ²ng Sincera Paper Clip x Charm Keys & Lock",
        image: "https://content.pancake.vn/2-25/2025/9/17/37ca40161bc7cac76b7b4fd797d039b80ff44b6c.jpg",
        customer: {
            name: "Jasm**",
            location: "Hung Yen",
            avatar: "JM"
        },
        rating: 5,
        date: "13/08/2025"
    },
    {
        id: 7,
        text: "DÃ¢y bÃªn ngoÃ i láº¥p lÃ¡nh em up story mÃ  khÃ´ng cáº§n chá»‰nh gÃ¬ luÃ´n áº¡ ðŸ˜ðŸ˜ðŸ˜",
        product: "VÃ²ng Sincera Safety Pin Charm Báº¡c x ÄÃ¡ Tá»± NhiÃªn",
        image: "https://content.pancake.vn/2-25/2025/9/17/f83bdbaa5a73aa5b52b8bd8c4014b1e62be9852f.jpg",
        customer: {
            name: "Huong Ng**",
            location: "Binh Duong",
            avatar: "HN"
        },
        rating: 5,
        date: "08/09/2025"
    },
    {
        id: 8,
        text: "Em tá» tÃ¬nh thÃ nh cÃ´ng rá»“i shop Æ¡i!!! Báº¡n Ã½ ráº¥t thÃ­ch máº«u shop tÆ° váº¥n cho em luÃ´n áº¡aa",
        product: "VÃ²ng Tay/ Nháº«n Sincera Infinity",
        image: "https://content.pancake.vn/2-25/2025/9/17/b151ab89767fa7edc9d783c4fb686c5db9bac953.jpg",
        customer: {
            name: "Lieu.M**",
            location: "Tp. Ho Chi Minh",
            avatar: "LM"
        },
        rating: 5,
        date: "31/03/2025"
    }
];

// TESTIMONIAL RENDERING
function renderTestimonials() {
    const track = document.getElementById('testimonial-track');
    if (!track) {
        console.error('Testimonial track not found');
        return;
    }

    // Duplicate data Ä‘á»ƒ táº¡o hiá»‡u á»©ng infinite scroll
    const duplicatedData = [...TESTIMONIAL_DATA, ...TESTIMONIAL_DATA];
    
    track.innerHTML = '';

    duplicatedData.forEach(testimonial => {
        const card = createTestimonialCard(testimonial);
        track.appendChild(card);
    });

    console.log(`âœ… Rendered ${duplicatedData.length} testimonial cards`);
}

// CREATE TESTIMONIAL CARD
function createTestimonialCard(testimonial) {
    const card = document.createElement('div');
    card.className = 'testimonial-card';
    
    // Generate stars
    const starsHTML = generateStars(testimonial.rating);
    
    card.innerHTML = `
        <div class="testimonial-date">${testimonial.date}</div>
        <div class="testimonial-stars">
            ${starsHTML}
        </div>
        <div class="testimonial-content">
            <p class="testimonial-text">"${testimonial.text}"</p>
            ${testimonial.image ? `<img src="${testimonial.image}" alt="${testimonial.product}" class="testimonial-image" onerror="this.style.display='none';">` : ''}
            <div class="testimonial-product">Sáº£n pháº©m: ${testimonial.product}</div>
        </div>
        <div class="testimonial-customer">
            <div class="customer-avatar">
                ${testimonial.customer.avatar}
            </div>
            <div class="customer-info">
                <div class="customer-name">${testimonial.customer.name}</div>
                <div class="customer-location">${testimonial.customer.location}</div>
            </div>
        </div>
    `;
    
    return card;
}

// GENERATE STAR RATING
function generateStars(rating) {
    let starsHTML = '';
    for (let i = 1; i <= 5; i++) {
        if (i <= rating) {
            starsHTML += '<span class="star">â˜…</span>';
        } else {
            starsHTML += '<span class="star empty">â˜…</span>';
        }
    }
    return starsHTML;
}

// INITIALIZE TESTIMONIALS
function initTestimonials() {
    console.log('ðŸŒŸ Initializing Testimonials...');
    renderTestimonials();
}

// AUTO-INITIALIZE ON DOM READY
document.addEventListener('DOMContentLoaded', () => {
    // Only initialize if testimonial section exists
    if (document.querySelector('.testimonial-section')) {
        initTestimonials();
    }
});

// EXPORT FOR GLOBAL ACCESS
window.initTestimonials = initTestimonials;
window.TESTIMONIAL_DATA = TESTIMONIAL_DATA;